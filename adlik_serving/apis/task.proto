syntax = "proto3";

package adlik.serving;
option cc_enable_arenas = true;

import "adlik_serving/framework/domain/model_spec.proto";

message KMeansTask {
  uint32 n_clusters = 1;
  string input = 2; // input csv path
  uint32 max_iter = 3;
  bool compute_labels = 4;
  string lable_name = 5;
  string output = 6; // output csv path
}

message CreateTaskRequest {
  ModelSpec model_spec = 1;

  enum TaskType {
    NONE_TASK = 0;
    TRAINING_TASK = 1;
    PREDICT_TASK = 2;
  }

  TaskType task_type = 2;
  bool is_sync = 3;

  string algorithm = 4;
  oneof TaskConfig { KMeansTask kmeans_task = 11; }
}

message CreateTaskResponse {
  ModelSpec model_spec = 1;
  string output = 2; // output file path
}
