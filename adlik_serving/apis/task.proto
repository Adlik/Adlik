syntax = "proto3";

package adlik.serving;
option cc_enable_arenas = true;

import "adlik_serving/framework/domain/model_spec.proto";
import "adlik_serving/runtime/ml/algorithm/proto/task_config.proto";

message CreateTaskRequest {
  ModelSpec model_spec = 1;

  enum TaskType {
    NONE_TASK = 0;
    TRAINING_TASK = 1;
    PREDICT_TASK = 2;
  }

  TaskType task_type = 2;
  bool is_sync = 3;

  string algorithm = 4;

  TaskReq task = 5;
}

message CreateTaskResponse {
  string task_status = 1; // NEW, RUNNING, ERROR, DONE

  string output = 2; // output file path

  TaskRsp task = 3;
}

message QueryTaskRequest { string task_id = 1; }

message QueryTaskResponse { string status = 1; }
